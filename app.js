$.fn.extend({
	explode: function(customOptions) {
		var opt = $.extend({}, $.fn.explode.defaultOptions, customOptions || {});
		
		var container = $(this)
			.wrap('<div class="container"></div>')
			.parent()
			.css({
				position: 'relative',
				width: $(this).width() + "px",
				height: $(this).height() + "px",
				overflow: 'hidden'
			});
		
		var w = $(this).width(),	// full width
			h = $(this).height(),		// full height
			cw = w / opt.columns,		// cell width
			ch = h / opt.rows,			// cell height
			self = $(this).hide();
		
		
		// ok, let's duplicate this shit
		for (var i = 0; i < opt.rows; i++) {
			for (var j = 0; j < opt.columns; j++) {
				$('<div class="tile"></div>')
					.css({
						width: cw + 'px',
						height: ch + 'px',
						position: 'absolute',
						left: (cw * j) + 'px',
						top: (ch * i) + 'px',
						backgroundImage: 'url(' + self.attr('src') + ')',
						backgroundPosition: "-" + (cw * j) + 'px -' + (ch * i) + 'px'
					})
					.appendTo(container)
					.show();
			}
		}
		
		// now let's iterate over the elements and move them all over the place
		var tiles = container.find('.tile');
		
		tiles.each(function(i, tile) {
			var p = $(tile).position();
			
			// adjust height above tile if there's any gap due to rounding error			
			if (i >= opt.columns) {
				var above_index = i - opt.columns
				var above_tile = $(tiles[above_index]);
				var above_tile_p = above_tile.position();
				
				if (above_tile.height() + above_tile_p.top < p.top) {
					above_tile.css({height: "+= 1px"});
					
				}
			}
			
			// adjust width of previous tile if we're not on the left-most column and the previous tile isn't wide enough due to rounding error	
			if (i % opt.columns != 0) {
				var previous_index = i - 1;
				var previous_tile = $(tiles[previous_index]);
				var previous_tile_p = previous_tile.position();
				
				if (previous_tile.width() + previous_tile_p.left < p.left) {
					previous_tile.css({width: "+= 1px"});
				}
			}
			
			// move tile offscreen and animate
			$(tile)
				.css({
					left: (Math.floor(Math.random() * w) + (Math.random() > .5) ? -w : w) + 'px',
					top: (Math.floor(Math.random() * h) + (Math.random() > .5) ? -h : h) + 'px'
				})
				.animate({
					left: (p.left) + 'px',
					top: (p.top) + 'px'
				}, Math.floor(Math.random() * 1000 + 2000))
		});// end each
		
		$.when(tiles).done(function(t) { 
			//t.hide();
			//self.show();
		}); 
				
		return self;
	}
});

$.fn.explode.defaultOptions = {
	rows: 10,
	columns: 10
}


$(function() {
	var images = [
		"001er0s6.jpg",
		"04.jpg",
		"040641229a65c5a3.jpg",
		"04540022-unreadble.gif",
		"045blood.JPG",
		"063sgarden.JPG",
		"068.jpg",
		"06_08_2009_0849165001249547188_dan-dos-santos.jpg",
		"070611-baizley-04-big.jpg",
		"100.jpg",
		"110806_13988543_l.jpg",
		"110813_6056341_l.jpg",
		"112419833.jpg",
		"112683_1272341_l.jpg",
		"1162997324_oo_sr_panda_two_oo_by_pacman23.jpg",
		"1166813206_190.jpg",
		"1166813206_236.jpg",
		"116b.jpg",
		"1173116706_lunacy_by_graysapphire.jpg",
		"1176728011_jasonlevesk_3.jpg",
		"1177634583821.jpg",
		"11_zombies.jpg",
		"1227674789.jpg.jpeg",
		"1232505614.jpg",
		"1234832420868.jpg",
		"1239467085050.jpg",
		"1242156926409.jpg.jpeg",
		"127798_7584053_l.jpg",
		"1278043196408.jpg",
		"1278242117784.jpg",
		"1278355967134.jpg",
		"1278380527523.jpg",
		"1278499187628.jpg",
		"1278539874559.png",
		"1278628559959.jpg",
		"1278860061727.png",
		"1278860200339.png",
		"1278860862174.jpg",
		"1278860867811.jpg",
		"1279470242720.jpg",
		"1279470641609.jpg",
		"1279470879465.jpg",
		"1280708244771.jpg",
		"1281142038753.jpg",
		"1281142147685.jpg",
		"1281142289685.jpg",
		"1281213911315.jpg",
		"12cerberuscolour.jpg.jpeg",
		"15938.jpeg",
		"167932-1280x800-WP_VampireNocturnus_1280x960.jpg",
		"1680x1050automata.jpg",
		"16_04_2007_0725752001176711227_jeremy_forson.jpg",
		"16_04_2007_0761499001176711227_jeremy_forson.jpg",
		"17..jpg",
		"18_01_2009_0576261001232302761_steven_klein.jpg",
		"19_03_2009_0687097001237453011_michael_kutsche.jpg.jpeg",
		"19_03_2009_0736608001237453011_michael_kutsche.jpg.jpeg",
		"19_03_2009_0742058001237453011_michael_kutsche.jpg.jpeg",
		"1World-Apart-Hi-Res.jpg",
		"1o2NBqhAYlnl1nagnd2ggcPNo1_1280.jpg.jpeg",
		"20040921.jpg",
		"20070730_196708.jpg",
		"2008_now_arriving.jpg.jpeg",
		"2010-HairisDead4.jpg",
		"2010-HairisDead5.jpg",
		"2010-MST-0306.jpg",
		"2122528077_f1a32c638e_o.jpg",
		"2147671669_168d1def20_o.jpg.jpeg",
		"2287142096_5d0e75bb53.jpg",
		"2422370097_d797516806_o.jpg",
		"2588295968_d9c1b876c7.jpg.jpeg",
		"2765155422_9b3f623580.jpg",
		"28_middleclass.jpg",
		"2swallowdefeat.jpg.jpeg",
		"305_4a43fcdbf64304ceb6b5e3a244efc8a495.jpg",
		"306_4a43fcdbf64304ceb6b5e3a244efc8a495.jpg",
		"3106_629446898febe530b8e0e34cc4e0380c.jpg",
		"3148978431_33ceb897b4_o.jpg.jpeg",
		"3252907867_82d35af146_o.png",
		"3282795239_b524b5492a_o.jpg.jpeg",
		"34550_10100246446361379_6801980_60072829_7276945_n.jpg",
		"3461194131_c2f2ed0770.jpg",
		"3551077925_249a22c693_o.jpg.jpeg",
		"3551879200_dbe7976d8c_o.jpg.jpeg",
		"3551893912_6b8f04a1a8_o.jpg.jpeg",
		"3551902952_7e6dd371ca_o.jpg.jpeg",
		"3978660208_c6633f7a7a_o.jpg",
		"4.jpg",
		"4061527570_cd1c1b9a2c_o.png",
		"4075924115_0fb35a4e6a_o.jpg",
		"4522465622_349cfeb7b4_o.jpg",
		"4725907028_a88c08ef21_o.jpg",
		"4768887454_8b395af2b1_b.jpg",
		"4768887486_5650655d39_b.jpg",
		"4943469162_8d2ee5cd76_b.jpg",
		"500x_marioold.jpg",
		"5041781865_39362a2f64_b.jpg",
		"5053516024_cd5faeb738_b.jpg",
		"5070388036_ac81111e60_o.jpg",
		"5079353647_048b1f8354_b.jpg",
		"5169931560_65c4eefd4d_b.jpg",
		"519391240865015.jpg",
		"519391255477479.jpg",
		"519391258770567.jpg",
		"5197445442_b69a8d5da6_b.jpg",
		"5224464405_cd64a3759b_z.jpg",
		"5267593767_d1092af673_b.jpg",
		"5267593971_758ae9ed0e_b.jpg",
		"5268202156_ff4a0e1a37_b.jpg",
		"5337525240_c60076ffab_b.jpg",
		"536360257_l.jpg",
		"562588345_l.jpg",
		"573_jaljet1.jpg",
		"600x423x238-600x423.jpg.pagespeed.ic.ca60M3Is8K.jpg",
		"608_lepo_iso.jpg",
		"616408968ddbafd50b664b2aa44810fd.jpg",
		"621083548_907e5573f6_b.jpg",
		"660x700-01selfportrait.jpg",
		"666labs",
		"warped",
		"2.jpg",
		"76.jpg",
		"79.jpg",
		"7EkCP9i3Pgle9136nRCFtXpfo1_r1_400.jpg",
		"816656165_MJUXH-1920x1200.jpg",
		"820.jpg",
		"83.jpg",
		"84.jpg",
		"84326130.jpg",
		"8D828FBC98a8EF7815E89BD83928B81838183e97C783C83m83J83X838989F0838983Y83j81E81E81E.jpg",
		"8D828FBC98a8EF7815E93G83928B81838183e89BD8F88837D83f8382.jpg",
		"900938998_38XQv-O.jpg",
		"903991.jpg",
		"919885.jpg",
		"933846.jpg",
		"933847.jpg",
		"983541251945278.jpg",
		"983541265807764.jpg",
		"ANAGRAM_Octopus.jpg",
		"ANHMoss999.JPG",
		"AP6.jpg",
		"Aasgaardreien_peter_nicolai_arbo_mindre.jpg",
		"Aensland_Town_by_drigzabrot.jpg.jpeg",
		"Alejandra_Alarcon_025.jpg",
		"Alex-Pardee_01.jpg",
		"AnaMary2.jpg",
		"April_2008_05.jpg",
		"BARF.jpg",
		"BarTrch.jpg",
		"Beastie",
		"calavera.jpg",
		"BklyGtr.jpg",
		"CC2B0C_detail.JPG",
		"CamillaOctandBirds.jpg",
		"CamillaTako.jpg",
		"CamilladErricoNoOrdinaryLoveFramed1.jpg",
		"ChicagoFull-1.jpg",
		"Choking",
		"Krampus150.jpg",
		"Clockwork",
		"Calavera.jpg",
		"DSCN1046.jpg.jpeg",
		"DSCN9986.jpg.jpeg",
		"DTB1280.jpg",
		"Deep_Diver___by_Randis_by_randis.jpg",
		"E84D82_detail.JPG",
		"ESBMoss999.JPG",
		"F97EFB_detail.JPG",
		"FEE2BD_detail.JPG",
		"Fist_to_the_sky_by_ManOfScience.jpg.jpeg",
		"Forest_King_final_web.jpg",
		"Fur_&_Fang.jpg",
		"Gary_Baseman_3.jpg",
		"GenghisTronPoster.jpg",
		"GrottoOldMass_d.jpg",
		"Heidi_Taillefer-Trust_Issue.jpg",
		"Honeymouth_by_ariokh.jpg",
		"Il_gatto_dagli_occhi_d_oro_2.jpg",
		"Ilka'smask.jpg",
		"Impossible_LOV3_2_by_Bluefley.jpg",
		"It's-What's-for-Dinner.jpg",
		"JFish3.jpg",
		"JerrellsBDay.jpg",
		"Joel-PeterWitkin-LeBaisier.GIF",
		"Just_Ten_More_Minutes_Mom_by_contraomnes.jpg",
		"Leviathan_Desktop.jpg",
		"LostArtAlexPardee.jpg",
		"ME_circle.jpg",
		"Mastodon_Desktop_BLK.jpg",
		"Mastodon_Desktop_Blood_Mtn.jpg",
		"Meaningless_scramble_for_____by_Ryohei_Hase.jpg",
		"Met",
		"Jap",
		"wave.tif",
		"MouseCigar.jpg",
		"Octo3.jpg",
		"OfAge_B+W_01.jpg",
		"OfAge_B+W_02.jpg",
		"Of_the_Deep_by_visioluxus.jpg",
		"PERSO_02.jpg",
		"PERSO_04.jpg",
		"Pilatusdracula.jpg",
		"ROTJMoss999.JPG",
		"Red",
		"Cosmonaut.jpg",
		"SPACE_COW_SKETCH_by_Lora8.jpg.jpeg",
		"Sans",
		"titre-2.jpg",
		"Super_Awesomefsjaltrollfffuuuu_by_DogmanSP.png",
		"The",
		"kiss",
		"of",
		"Volture.jpg",
		"The_last_thing_we_do_by_Ryohei_Hase.jpg",
		"TickleMonster.jpg",
		"Uninterrupted_chain_by_Ryohei_Hase.jpg",
		"Vlad_Tepes_002.jpg",
		"WJ_Character_Design_by_pacman23.jpg",
		"WPA_Mutantes.jpg.jpeg",
		"WPA_P51Mustang.jpg.jpeg",
		"WPA_Saxon.jpg.jpeg",
		"WPA_Victory.jpg.jpeg",
		"WP_Deathmark_2560x1600.jpg",
		"WP_dVdLotP00h25_2560x1600.jpg.jpeg",
		"Wallpaper_ArmageddonClock_1024x768.jpg",
		"Wallpaper_Terror_1280x1024.jpg",
		"With_My_Magnetic_Shield_by_ManOfScience.jpg.jpeg",
		"[image]",
		".jpeg",
		"a063.jpg",
		"achancetoescape.jpg",
		"ad.jpg",
		"afcovernotext.jpg.jpeg",
		"ak47-desktop.jpg",
		"alex",
		"fischer",
		"digital",
		"62",
		"fungus",
		"philosopher",
		"2010",
		"a.jpg",
		"alex-pardee-hiding-from-the-normals-exhibition-1.jpg",
		"alex-pardee.jpg",
		"alieninvasionpt40.jpg",
		"amandaSkull.jpg",
		"amv_rg_q.png",
		"anacceptablereactiontotrajedy.jpg",
		"anb-lowres.jpg",
		"angelkiss_big.jpg",
		"aphex.jpg",
		"arms_by_tobiee-d34evds.jpg",
		"arosemary-600.jpg",
		"artdiss1.jpg.jpeg",
		"artwork_images_424454017_622016_-liudi.jpg",
		"bad",
		"calavera",
		"times.jpg",
		"ballad_72dpi.jpg",
		"banana_1024x768.jpg",
		"bananassong.jpg.jpeg",
		"baptism.jpg.jpeg",
		"beast72.jpg",
		"bigfish.jpg",
		"binary666.jpg",
		"biosphere.jpg",
		"black_dawn_rising.jpg",
		"blue",
		"man",
		"small.jpg",
		"bonzaishirt.jpg",
		"bottom-superplumber.jpg",
		"bq3.jpg",
		"broken_miho-full.jpg",
		"businessshirt.jpg",
		"bust.jpg",
		"butterfly-egg-oeggerli_27483_990x742.jpg",
		"caliban.jpg",
		"cky",
		"baby.jpg",
		"colw_roots-l.jpg",
		"colw_skulltree-l.jpg",
		"constuc.jpg",
		"corned-beef.png",
		"crap.jpg",
		"cw8.jpg",
		"deathofteddy_web.jpg.jpeg",
		"dimitri_tsykalov_01.jpg",
		"dimitri_tsykalov_03.jpg",
		"dive.jpg.jpeg",
		"dogfish.jpg",
		"don-kenn-02.jpg",
		"don-kenn-03.jpg",
		"don-kenn-05.jpg",
		"don-kenn-07.jpg",
		"dormant_final.jpg",
		"ducttape_apollo17_big.jpg",
		"e706_terran.jpg",
		"e707_zerg.jpg",
		"e708_protoss.jpg",
		"ef5.jpg.jpeg",
		"ef6.jpg.jpeg",
		"explodingsheddone-620x641.jpg.jpeg",
		"fair_display.jpg.jpeg",
		"fathers.jpg",
		"fever.jpg",
		"freak-show.jpg",
		"fusion.jpg",
		"gabby.tiff",
		"gangrel.jpg",
		"gathering.jpg",
		"gaze_blue.jpg",
		"gl0807021514555261.jpg",
		"gl0807021549437702.jpg",
		"gl0807111355361838.jpg",
		"gl0807111610534995.jpg",
		"gl0809111541325660.jpg",
		"gl0811250844556934.jpg",
		"golden_mushrooms.jpg",
		"goldenbooklebowski.jpg",
		"goldenbookprofessional.jpg",
		"greatcat.jpg",
		"greatchicken.jpg",
		"growthsm.jpg",
		"gsc-inverse2_detail.JPG",
		"gt_thing_small.jpg",
		"guilt.jpg",
		"guilty-smurf-alex-pardee.jpg",
		"gummyvomit.jpg",
		"hakimbey.jpg",
		"hale_mask.jpg.jpeg",
		"hale_swamp.jpg.jpeg",
		"heman_v3_issue1_incentive-738950.jpg",
		"hide_72dpi.jpg",
		"hommedia-1.ashx.png",
		"hommedia-2.ashx.png",
		"hommedia.ashx.png",
		"houseofmystery_two.jpg",
		"hs-004.jpg",
		"httpd.jpg",
		"hurrican_flat.jpg.jpeg",
		"iPod",
		"Photo",
		"Cache",
		"illo_stay.jpg",
		"im_ccreat_01.jpg",
		"image-1.php.jpeg",
		"image.php.jpeg",
		"img-la-petite-sirene-de-mijn-schatje-a7f91aa68e_orig.jpg",
		"j4rs200852014052ast.jpg",
		"jeffsimpsonpeach.jpg.jpeg",
		"jesusgld1280.jpg",
		"john116.jpg",
		"john138.jpg",
		"john142.jpg",
		"john98-copy.jpg",
		"kerrhigh.jpg",
		"kinds_poster.jpg",
		"l_17c9a4cde547874e3f5ea22ec6303434.jpg",
		"l_6bd6615420e3a6761ef4a4e89f682406.jpg",
		"l_7a804b05883447c89588ceae4ad2060a.jpg.jpeg",
		"l_947b6dfdca6def31b0afffda5dd1acf5.jpg.jpeg",
		"l_9f063527a236478aa703a167e72da9d4.jpg",
		"l_bb0fc7019219f593a7f95db4945f6303.jpg",
		"l_c8b824ae59d54e42f0c1404b7ab9ea98.jpg",
		"l_d88233e2810a64d3d56500e81e98cc95.jpg.jpeg",
		"l_f083001eace24ecc8428fc5566d6c219.jpg",
		"lambofgod.jpg",
		"lastride.jpg",
		"lebowski.jpg",
		"lfire2.jpg",
		"lifd1.jpg",
		"lipking_nude_recline30x40.jpg",
		"loggerheads.jpg",
		"londonbombsTALL_FLAT.jpg.jpeg",
		"lookoutswall_1920.jpg.jpeg",
		"lsd_blotter_full_sheet.jpg",
		"maariv_god.jpg",
		"madstone.0.jpg",
		"main_c.jpg",
		"maku2.jpg",
		"mariogal.jpg",
		"marioscloset.jpg",
		"masked.png",
		"maze_lj.jpg",
		"mcbess_syzygy_full.jpg",
		"medium_504882421_4f2ac058cd_o.jpg",
		"meric.jpg.jpeg",
		"mexico.jpg",
		"mooe_pinup.jpg",
		"mosh2.jpg",
		"mrmonkey_vinicius.jpg",
		"muerte.jpg",
		"music_is_my_aeroplane_by_elpinoy.jpg",
		"nintendo.jpg",
		"octobasil.jpg.jpeg",
		"ohmydeer.jpg",
		"on",
		"the",
		"prowl-ny-2010-sml.jpg",
		"oni.jpg",
		"othergun-desktop.jpg",
		"pacmonster.gif",
		"page_13_14_by_Pockypuu.jpg.jpeg",
		"pain_1.jpg",
		"pandorasbox.jpg",
		"pardee-urkel.jpg",
		"pentapussy_by_god_of_insects.jpg",
		"per_balb.jpg",
		"per_bandaid.jpg",
		"perso20091020112924.jpg",
		"perso20100119113604.jpg",
		"perso20100607174555.jpg",
		"pietari_posti_03.jpg",
		"pig",
		"ma",
		"lion.jpg",
		"planadvisor.jpg",
		"poe_by_matthewchilders-d33fwpy.jpg",
		"poison",
		"the",
		"well.jpg",
		"porco_comeco.jpg",
		"portraits_87.jpg",
		"pyrotechnicssm.jpg",
		"quake1.jpg",
		"raised-platform.jpg",
		"razor.jpg",
		"realbatman-1.jpg",
		"realbatmanblack-1.jpg",
		"redsnow_small.jpg",
		"remember",
		"what",
		"the",
		"dormouse",
		"said-ny-2010-sml.jpg",
		"resident.jpg",
		"restoring_what_is_lost.jpg.jpeg",
		"resurectedbonecollective.jpg",
		"ring-around-the-collar.jpg",
		"romero.jpg",
		"ronald",
		"mcdonald.jpg",
		"schyphozoan.jpg",
		"secret",
		"soundz.jpg",
		"secret.jpg.jpeg",
		"self",
		"destructive.jpg",
		"senjukannon.jpg.jpeg",
		"seras",
		"a.jpg",
		"seras",
		"b.jpg",
		"sh1.jpg",
		"shadowmoor_beseechthequeen.jpg",
		"shadowmoor_steelofgodhead.jpg",
		"shadowmoor_twilightshepherd.jpg",
		"shattered.jpg.jpeg",
		"skatewhole.jpg",
		"skinheads.jpg",
		"skipper.jpg",
		"skull.jpg",
		"skull2-again.jpg",
		"skull2.jpg",
		"snails.jpg",
		"sonic-youth_red-nurse_f.jpg",
		"sougwenAfterthoughtsWallpaper.png",
		"sougwenVeinguardWallpaper.png",
		"squidboy.jpg",
		"squidhousebig.jpg",
		"ss_pic_8.jpg",
		"starcraft2-wall3-1680x1050.jpg",
		"steaks3.jpg",
		"stud1.jpg",
		"submission253.jpg",
		"submissions251.jpg",
		"sync_dtp.sh",
		"taciturn.jpg.jpeg",
		"taillefer_birth_of_venus.jpg",
		"tdomewolf_final.jpg",
		"tentacle01.jpg",
		"the-black-flame-of-death.jpg",
		"theloyaltyofhungrydogssm.jpg",
		"thor.jpg",
		"thursday.jpg",
		"tkposter.jpg",
		"valhalla.jpg",
		"treebig.jpg",
		"tsunami2.jpg",
		"tumblr_kvcn9gBQmq1qaqn6jo1_1280.jpg",
		"tumblr_kvgmt2wZsp1qaqn6jo1_1280.png",
		"tumblr_kvhahkll2X1qaqn6jo1_1280.jpg",
		"tumblr_kvi9x3F19G1qaqn6jo1_1280.jpg",
		"tumblr_kvlux8SQYT1qaqn6jo1_1280.jpg",
		"tumblr_kw71uaByes1qare6ro1_1280.jpg",
		"tumblr_l2ks39n6zr1qzpwi0o1_500.jpg",
		"tumblr_l38pqj3gWk1qzpwi0o1_500.jpg",
		"tumblr_l3i9i4MZeR1qzwtdlo1_r1_500.jpg",
		"tumblr_l6offzMO521qznlrbo1_500.jpg",
		"u1.jpg",
		"underice.jpg",
		"unforgiven-sin.jpg",
		"upback.jpg",
		"upside-downmirror.jpg",
		"uzi-desktop.jpg",
		"varsity_jacket.png",
		"verticalhold(final).jpg.jpeg",
		"vincente6.jpg.jpeg",
		"vincente_3.jpg.jpeg",
		"vincente_5.jpg.jpeg",
		"visagefinal.jpg",
		"voldo-fl.jpg",
		"wallpaper1.jpg",
		"wallpaper10.jpg",
		"wallpaper11.jpg",
		"wallpaper2.jpg",
		"wallpaper3.jpg",
		"wallpaper4.jpg",
		"wallpaper5.jpg",
		"wallpaper6.jpg",
		"wallpaper7.jpg",
		"wallpaper8.jpg",
		"wallpaper9.jpg",
		"wallpaper_augurofskulls_1280x1024.jpg",
		"wallpaper_evacuation_1280x1024.jpg",
		"walter.jpg",
		"water_lj.jpg",
		"wellgirl.png",
		"whenthebirdsreturn.jpg",
		"yhst-80707182936312_2111_3037221.jpg",
		"zerofriends-x-alex-pardee-tonight-to-knight-comic-con-exclusive-print-021.jpg",
		"zombieplayground.jpg",
		"zombies.jpg",
		"zoom.gif"
	]
	
	var src = images[Math.floor(Math.random() * images.length)];
	$('img').attr('src', "images/" + src);
	
	$('img').load(function() {
		$(this).explode({rows: 20, columns: 10});
	});
});
